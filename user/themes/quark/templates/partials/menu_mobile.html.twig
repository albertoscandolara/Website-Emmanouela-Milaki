{% import 'macros/macros.html.twig' as macros %}
<section class="menu-mobile-wrapper">
    <!-- One checkbox only -->
    <input type="checkbox" id="mobile-menu-toggle" class="mobile-menu-checkbox">

    <!-- Open icon -->
    <label for="mobile-menu-toggle" class="mobile-menu-icon open">
        â˜°
    </label>

    <div class="mobile-menu-popup">
        <section class="header">
            <section class="left"></section>
            <section class="right">
                <!-- Close icon -->
                <label for="mobile-menu-toggle" class="mobile-menu-icon close">
                    &#10005;
                </label>
            </section>
        </section>

        <section class="body">
            <nav class="navbar">
                <ul class="nav-links">
                    {% for page in pages.children.visible %}
                    <li class="{% if page.active or page.activeChild %}selected{% endif %}"
                        title="{{ page.menu ?: page.title }}">
                        <a href="{{ page.url }}">{{ page.menu ?: page.title }}</a>
                    </li>
                    {% endfor %}
                </ul>
            </nav>
        </section>
        <section class="footer"></section>
    </div>
</section>
<script>
  document.querySelectorAll('.mobile-menu-icon').forEach(label => {
    label.addEventListener('click', e => {
      e.preventDefault();
      const checkbox = document.getElementById('mobile-menu-toggle');
      checkbox.checked = !checkbox.checked;
    });
  });
</script>